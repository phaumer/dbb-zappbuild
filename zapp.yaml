################################################################
# LICENSED MATERIALS - PROPERTY OF IBM
# "RESTRICTED MATERIALS OF IBM"
# (C) COPYRIGHT IBM CORPORATION 2022. ALL RIGHTS RESERVED
# US GOVERNMENT USERS RESTRICTED RIGHTS - USE, DUPLICATION,
# OR DISCLOSURE RESTRICTED BY GSA ADP SCHEDULE
# CONTRACT WITH IBM CORPORATION
################################################################

# User Settings to use for Wazi Sandbox
#   "zopeneditor.userbuild.userSettings": {
#    "dbbHlq": "IBMUSER.MORTAPP",
#    "dbbLogDir": "/u/ibmuser/projects/logs",
#    "dbbWorkspace": "/u/ibmuser/projects"
#   }

name: dbb-zappbuild examples
description: Sample for building the MortgageApplication on a Wazi Sandbox
version: 3.0.0
author:
  name: IBM

propertyGroups:
  - name: MortgageApplicationCopybooks
    language: cobol
    libraries:
      - name: syslib
        type: local
        locations:
          - "**/samples/MortgageApplication/copybook"
      - name: syslib
        type: mvs
        locations:
         - "DFH560.CICS.SDFHCOB"
         - "IBMUSER.MORTAPP.BMS.COPY"

profiles:
  - name: MortgageApplicationBuild
    type: dbb
    settings:
      application: MortApp
      command: "$DBB_HOME/bin/groovyz -DBB_PERSONAL_DAEMON"
      buildScriptPath: "${zopeneditor.userbuild.userSettings.dbbWorkspace}/dbb-zappbuild/build.groovy"
      buildScriptArgs:
        - "--userBuild"
        - "--workspace ${zopeneditor.userbuild.userSettings.dbbWorkspace}"
        - "--application ${application}/samples/MortgageApplication"
        - "--hlq ${zopeneditor.userbuild.userSettings.dbbHlq}"
        - "--outDir ${zopeneditor.userbuild.userSettings.dbbLogDir}"
        - "--dependencyFile ${dependencyFile}"
      additionalDependencies:
        - "samples/MortgageApplication/application-conf"
      logFilePatterns:
        - "${buildFile.basename}.log"
        - "BuildReport.*"
